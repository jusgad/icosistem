<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Directorio de Archivos - Cliente{% endblock %}</title>
    
    <!-- CSS Framework y Librerías -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3b82f6;
            --primary-dark: #1d4ed8;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #06b6d4;
            --dark-color: #1e293b;
            --light-color: #f8fafc;
            --white: #ffffff;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --sidebar-width: 280px;
            --header-height: 70px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* LAYOUT PRINCIPAL */
        .directory-layout {
            display: grid;
            grid-template-areas: 
                "sidebar header"
                "sidebar main";
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr;
            min-height: 100vh;
        }

        /* SIDEBAR */
        .sidebar {
            grid-area: sidebar;
            background: var(--white);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .storage-info {
            background: var(--light-color);
            border-radius: 12px;
            padding: 15px;
        }

        .storage-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .storage-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark-color);
        }

        .storage-amount {
            font-size: 12px;
            color: var(--secondary-color);
        }

        .storage-bar {
            width: 100%;
            height: 6px;
            background: var(--border-color);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .storage-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), var(--warning-color));
            width: 68%;
            transition: width 0.3s ease;
        }

        .storage-text {
            font-size: 12px;
            color: var(--secondary-color);
            text-align: center;
        }

        .sidebar-nav {
            flex: 1;
            padding: 20px 0;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: 25px;
        }

        .nav-section-title {
            padding: 0 20px 10px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--secondary-color);
            letter-spacing: 0.5px;
        }

        .nav-item {
            margin-bottom: 5px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 20px;
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.3s ease;
            border-right: 3px solid transparent;
        }

        .nav-link:hover {
            background: rgba(59, 130, 246, 0.05);
            color: var(--primary-color);
        }

        .nav-link.active {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary-color);
            border-right-color: var(--primary-color);
            font-weight: 600;
        }

        .nav-icon {
            width: 20px;
            text-align: center;
            font-size: 18px;
        }

        .nav-count {
            margin-left: auto;
            background: var(--border-color);
            color: var(--secondary-color);
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: 600;
        }

        .nav-link.active .nav-count {
            background: var(--primary-color);
            color: var(--white);
        }

        /* HEADER */
        .header {
            grid-area: header;
            background: var(--white);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            z-index: 999;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 20px;
            color: var(--secondary-color);
            cursor: pointer;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .breadcrumb-item {
            color: var(--secondary-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .breadcrumb-item:hover {
            color: var(--primary-color);
        }

        .breadcrumb-item.active {
            color: var(--dark-color);
            font-weight: 600;
        }

        .breadcrumb-separator {
            color: var(--border-color);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .search-container {
            position: relative;
        }

        .search-input {
            width: 350px;
            padding: 10px 15px 10px 45px;
            border: 1px solid var(--border-color);
            border-radius: 25px;
            background: var(--light-color);
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            background: var(--white);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-color);
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 10px 16px;
            border: 1px solid var(--border-color);
            background: var(--white);
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--secondary-color);
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
            background: rgba(59, 130, 246, 0.05);
        }

        .action-btn.primary {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .action-btn.primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        /* MAIN CONTENT */
        .main-content {
            grid-area: main;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* TOOLBAR */
        .toolbar {
            background: var(--white);
            border-bottom: 1px solid var(--border-color);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toolbar-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sort-dropdown {
            position: relative;
        }

        .sort-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            background: var(--white);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            color: var(--secondary-color);
        }

        .filter-chips {
            display: flex;
            gap: 8px;
        }

        .filter-chip {
            padding: 6px 12px;
            background: var(--light-color);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            font-size: 12px;
            color: var(--secondary-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-chip.active {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .filter-chip:hover:not(.active) {
            background: var(--border-color);
        }

        .toolbar-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .view-options {
            display: flex;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }

        .view-btn {
            padding: 8px 12px;
            border: none;
            background: var(--white);
            cursor: pointer;
            color: var(--secondary-color);
            transition: all 0.3s ease;
        }

        .view-btn.active {
            background: var(--primary-color);
            color: var(--white);
        }

        .selected-info {
            font-size: 14px;
            color: var(--secondary-color);
        }

        /* CONTENT AREA */
        .content-area {
            flex: 1;
            padding: 20px 30px;
            overflow-y: auto;
        }

        /* UPLOAD ZONE */
        .upload-zone {
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-zone.dragover {
            border-color: var(--primary-color);
            background: rgba(59, 130, 246, 0.05);
        }

        .upload-icon {
            font-size: 48px;
            color: var(--border-color);
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 16px;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .upload-subtext {
            font-size: 14px;
            color: var(--secondary-color);
        }

        /* GRID VIEW */
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .file-card {
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .file-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .file-card.selected {
            border: 2px solid var(--primary-color);
        }

        .file-thumbnail {
            height: 120px;
            background: var(--light-color);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .file-type-icon {
            font-size: 48px;
            color: var(--secondary-color);
        }

        .file-type-icon.pdf { color: #ef4444; }
        .file-type-icon.doc { color: #3b82f6; }
        .file-type-icon.xls { color: #10b981; }
        .file-type-icon.ppt { color: #f59e0b; }
        .file-type-icon.img { color: #8b5cf6; }
        .file-type-icon.folder { color: #06b6d4; }

        .file-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .file-card:hover .file-actions {
            opacity: 1;
        }

        .file-action {
            width: 30px;
            height: 30px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-color);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .file-action:hover {
            background: var(--primary-color);
            color: var(--white);
        }

        .file-info {
            padding: 15px;
        }

        .file-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .file-meta {
            font-size: 12px;
            color: var(--secondary-color);
            display: flex;
            justify-content: space-between;
        }

        .file-checkbox {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 20px;
            height: 20px;
            accent-color: var(--primary-color);
        }

        /* LIST VIEW */
        .files-list {
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .list-header {
            background: var(--light-color);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: grid;
            grid-template-columns: 40px 1fr 100px 120px 80px 40px;
            gap: 15px;
            font-size: 12px;
            font-weight: 600;
            color: var(--secondary-color);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .list-item {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: grid;
            grid-template-columns: 40px 1fr 100px 120px 80px 40px;
            gap: 15px;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .list-item:hover {
            background: var(--light-color);
        }

        .list-item.selected {
            background: rgba(59, 130, 246, 0.05);
            border-left: 3px solid var(--primary-color);
        }

        .list-item:last-child {
            border-bottom: none;
        }

        .list-icon {
            font-size: 24px;
        }

        .list-name {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .list-name-text {
            font-weight: 500;
            color: var(--dark-color);
        }

        .list-size {
            font-size: 13px;
            color: var(--secondary-color);
        }

        .list-date {
            font-size: 13px;
            color: var(--secondary-color);
        }

        .list-actions {
            position: relative;
        }

        .actions-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-color);
            transition: all 0.3s ease;
        }

        .actions-btn:hover {
            background: var(--border-color);
        }

        /* CONTEXT MENU */
        .context-menu {
            position: fixed;
            background: var(--white);
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            padding: 8px 0;
            min-width: 180px;
            z-index: 10000;
            display: none;
        }

        .context-menu-item {
            padding: 10px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: var(--dark-color);
            transition: background 0.3s ease;
        }

        .context-menu-item:hover {
            background: var(--light-color);
        }

        .context-menu-item.danger {
            color: var(--danger-color);
        }

        .context-menu-separator {
            height: 1px;
            background: var(--border-color);
            margin: 8px 0;
        }

        /* MODALS */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }

        .modal-content {
            background: var(--white);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: var(--shadow-xl);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-color);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--secondary-color);
            cursor: pointer;
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark-color);
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-textarea {
            min-height: 80px;
            resize: vertical;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-secondary {
            background: var(--white);
            color: var(--secondary-color);
        }

        .btn-primary {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .btn:hover {
            transform: translateY(-1px);
        }

        /* EMPTY STATE */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--secondary-color);
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .empty-state p {
            margin-bottom: 20px;
        }

        /* LOADING STATE */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 1024px) {
            .search-input {
                width: 250px;
            }
            
            .files-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
            
            .list-header,
            .list-item {
                grid-template-columns: 40px 1fr 80px 40px;
            }
            
            .list-size,
            .list-date {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .directory-layout {
                grid-template-areas: 
                    "header"
                    "main";
                grid-template-columns: 1fr;
                grid-template-rows: var(--header-height) 1fr;
            }
            
            .sidebar {
                position: fixed;
                top: 0;
                left: -100%;
                width: var(--sidebar-width);
                height: 100vh;
                transition: left 0.3s ease;
            }
            
            .sidebar.active {
                left: 0;
            }
            
            .mobile-toggle {
                display: block !important;
            }
            
            .content-area {
                padding: 15px;
            }
            
            .toolbar {
                padding: 15px;
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            
            .files-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .search-input {
                width: 100%;
            }
            
            .header-actions {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* ANIMATIONS */
        .fade-in {
            animation: fadeInUp 0.6s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="directory-layout">
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-folder"></i>
                    <span>FileManager</span>
                </div>
                
                <div class="storage-info">
                    <div class="storage-header">
                        <span class="storage-title">Almacenamiento</span>
                        <span class="storage-amount">6.8 GB de 10 GB</span>
                    </div>
                    <div class="storage-bar">
                        <div class="storage-fill"></div>
                    </div>
                    <div class="storage-text">68% utilizado</div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Favoritos</div>
                    <div class="nav-item">
                        <a href="#" class="nav-link active" data-filter="all">
                            <i class="nav-icon fas fa-home"></i>
                            <span>Todos los archivos</span>
                            <span class="nav-count">247</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="recent">
                            <i class="nav-icon fas fa-clock"></i>
                            <span>Recientes</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="starred">
                            <i class="nav-icon fas fa-star"></i>
                            <span>Destacados</span>
                            <span class="nav-count">12</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="shared">
                            <i class="nav-icon fas fa-share-alt"></i>
                            <span>Compartidos</span>
                            <span class="nav-count">8</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="trash">
                            <i class="nav-icon fas fa-trash"></i>
                            <span>Papelera</span>
                            <span class="nav-count">3</span>
                        </a>
                    </div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Tipos de archivo</div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="documents">
                            <i class="nav-icon fas fa-file-alt"></i>
                            <span>Documentos</span>
                            <span class="nav-count">89</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="images">
                            <i class="nav-icon fas fa-image"></i>
                            <span>Imágenes</span>
                            <span class="nav-count">156</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="videos">
                            <i class="nav-icon fas fa-video"></i>
                            <span>Videos</span>
                            <span class="nav-count">23</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-filter="audio">
                            <i class="nav-icon fas fa-music"></i>
                            <span>Audio</span>
                            <span class="nav-count">45</span>
                        </a>
                    </div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Carpetas</div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-folder="projects">
                            <i class="nav-icon fas fa-folder"></i>
                            <span>Proyectos</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-folder="documents">
                            <i class="nav-icon fas fa-folder"></i>
                            <span>Documentos</span>
                        </a>
                    </div>
                    <div class="nav-item">
                        <a href="#" class="nav-link" data-folder="personal">
                            <i class="nav-icon fas fa-folder"></i>
                            <span>Personal</span>
                        </a>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- HEADER -->
        <header class="header">
            <div class="header-left">
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <nav class="breadcrumb" id="breadcrumb">
                    <a href="#" class="breadcrumb-item">Inicio</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-item active">Todos los archivos</span>
                </nav>
            </div>
            
            <div class="header-right">
                <div class="search-container">
                    <i class="search-icon fas fa-search"></i>
                    <input type="text" class="search-input" placeholder="Buscar archivos y carpetas..." id="searchInput">
                </div>
                
                <div class="header-actions">
                    <button class="action-btn primary" id="uploadBtn">
                        <i class="fas fa-upload"></i>
                        Subir
                    </button>
                    
                    <button class="action-btn" id="newFolderBtn">
                        <i class="fas fa-folder-plus"></i>
                        Nueva carpeta
                    </button>
                </div>
            </div>
        </header>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- TOOLBAR -->
            <div class="toolbar">
                <div class="toolbar-left">
                    <div class="sort-dropdown">
                        <button class="sort-btn" id="sortBtn">
                            <i class="fas fa-sort-amount-down"></i>
                            <span>Nombre</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    
                    <div class="filter-chips">
                        <button class="filter-chip active" data-type="all">Todos</button>
                        <button class="filter-chip" data-type="pdf">PDF</button>
                        <button class="filter-chip" data-type="doc">Word</button>
                        <button class="filter-chip" data-type="img">Imágenes</button>
                        <button class="filter-chip" data-type="folder">Carpetas</button>
                    </div>
                </div>
                
                <div class="toolbar-right">
                    <div class="selected-info" id="selectedInfo">
                        247 elementos
                    </div>
                    
                    <div class="view-options">
                        <button class="view-btn active" data-view="grid" title="Vista de cuadrícula">
                            <i class="fas fa-th"></i>
                        </button>
                        <button class="view-btn" data-view="list" title="Vista de lista">
                            <i class="fas fa-list"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- CONTENT AREA -->
            <div class="content-area" id="contentArea">
                <!-- UPLOAD ZONE -->
                <div class="upload-zone" id="uploadZone">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">Arrastra archivos aquí para subirlos</div>
                    <div class="upload-subtext">o haz clic para seleccionar archivos</div>
                </div>

                <!-- FILES GRID VIEW -->
                <div class="files-grid" id="filesGrid">
                    <!-- Los archivos se generarán dinámicamente -->
                </div>

                <!-- FILES LIST VIEW -->
                <div class="files-list" id="filesList" style="display: none;">
                    <div class="list-header">
                        <div></div>
                        <div>Nombre</div>
                        <div>Tamaño</div>
                        <div>Modificado</div>
                        <div>Tipo</div>
                        <div></div>
                    </div>
                    <!-- Los archivos se generarán dinámicamente -->
                </div>
            </div>
        </main>
    </div>

    <!-- CONTEXT MENU -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" data-action="open">
            <i class="fas fa-folder-open"></i>
            Abrir
        </div>
        <div class="context-menu-item" data-action="download">
            <i class="fas fa-download"></i>
            Descargar
        </div>
        <div class="context-menu-item" data-action="share">
            <i class="fas fa-share"></i>
            Compartir
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="rename">
            <i class="fas fa-edit"></i>
            Renombrar
        </div>
        <div class="context-menu-item" data-action="move">
            <i class="fas fa-folder"></i>
            Mover a
        </div>
        <div class="context-menu-item" data-action="copy">
            <i class="fas fa-copy"></i>
            Copiar
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="star">
            <i class="fas fa-star"></i>
            Agregar a destacados
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item danger" data-action="delete">
            <i class="fas fa-trash"></i>
            Eliminar
        </div>
    </div>

    <!-- MODAL: NUEVA CARPETA -->
    <div class="modal-overlay" id="newFolderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Nueva Carpeta</h3>
                <button class="close-btn" onclick="closeModal('newFolderModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="newFolderForm">
                    <div class="form-group">
                        <label class="form-label">Nombre de la carpeta</label>
                        <input type="text" class="form-input" id="folderName" placeholder="Mi nueva carpeta" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('newFolderModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="createFolder()">Crear</button>
            </div>
        </div>
    </div>

    <!-- MODAL: COMPARTIR ARCHIVO -->
    <div class="modal-overlay" id="shareModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Compartir Archivo</h3>
                <button class="close-btn" onclick="closeModal('shareModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="shareForm">
                    <div class="form-group">
                        <label class="form-label">Correo electrónico</label>
                        <input type="email" class="form-input" id="shareEmail" placeholder="usuario@ejemplo.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mensaje (opcional)</label>
                        <textarea class="form-input form-textarea" id="shareMessage" placeholder="Mensaje para el destinatario..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('shareModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="shareFile()">Compartir</button>
            </div>
        </div>
    </div>

    <!-- INPUT OCULTO PARA SUBIR ARCHIVOS -->
    <input type="file" id="fileInput" style="display: none;" multiple>

    <!-- JAVASCRIPT -->
    <script>
        class FileManager {
            constructor() {
                this.currentView = 'grid';
                this.selectedFiles = new Set();
                this.currentFilter = 'all';
                this.currentSort = 'name';
                this.files = [];
                this.currentPath = [];
                
                this.init();
            }
            
            init() {
                this.loadMockData();
                this.setupEventListeners();
                this.renderFiles();
            }
            
            loadMockData() {
                this.files = [
                    {
                        id: 1,
                        name: 'Reporte_Q4_2024.pdf',
                        type: 'pdf',
                        size: '2.4 MB',
                        modified: '2024-12-10',
                        isFolder: false,
                        starred: true,
                        shared: false
                    },
                    {
                        id: 2,
                        name: 'Propuesta_Comercial.docx',
                        type: 'doc',
                        size: '1.8 MB',
                        modified: '2024-12-09',
                        isFolder: false,
                        starred: false,
                        shared: true
                    },
                    {
                        id: 3,
                        name: 'Presupuesto_2025.xlsx',
                        type: 'xls',
                        size: '945 KB',
                        modified: '2024-12-08',
                        isFolder: false,
                        starred: false,
                        shared: false
                    },
                    {
                        id: 4,
                        name: 'Presentación_Empresa.pptx',
                        type: 'ppt',
                        size: '3.2 MB',
                        modified: '2024-12-07',
                        isFolder: false,
                        starred: true,
                        shared: false
                    },
                    {
                        id: 5,
                        name: 'Logo_Empresa.png',
                        type: 'img',
                        size: '567 KB',
                        modified: '2024-12-06',
                        isFolder: false,
                        starred: false,
                        shared: true
                    },
                    {
                        id: 6,
                        name: 'Proyectos',
                        type: 'folder',
                        size: '15 elementos',
                        modified: '2024-12-05',
                        isFolder: true,
                        starred: false,
                        shared: false
                    },
                    {
                        id: 7,
                        name: 'Documentos Legales',
                        type: 'folder',
                        size: '8 elementos',
                        modified: '2024-12-04',
                        isFolder: true,
                        starred: false,
                        shared: false
                    },
                    {
                        id: 8,
                        name: 'Video_Promocional.mp4',
                        type: 'video',
                        size: '45.2 MB',
                        modified: '2024-12-03',
                        isFolder: false,
                        starred: false,
                        shared: false
                    }
                ];
            }
            
            setupEventListeners() {
                // Mobile toggle
                document.getElementById('mobileToggle').addEventListener('click', () => {
                    document.getElementById('sidebar').classList.toggle('active');
                });
                
                // Navigation links
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.setActiveNavItem(link);
                        this.handleNavigation(link);
                    });
                });
                
                // View toggle
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        this.switchView(btn.dataset.view);
                    });
                });
                
                // Filter chips
                document.querySelectorAll('.filter-chip').forEach(chip => {
                    chip.addEventListener('click', () => {
                        this.setActiveFilter(chip);
                    });
                });
                
                // Upload zone
                const uploadZone = document.getElementById('uploadZone');
                const fileInput = document.getElementById('fileInput');
                
                uploadZone.addEventListener('click', () => {
                    fileInput.click();
                });
                
                uploadZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    uploadZone.classList.add('dragover');
                });
                
                uploadZone.addEventListener('dragleave', () => {
                    uploadZone.classList.remove('dragover');
                });
                
                uploadZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    uploadZone.classList.remove('dragover');
                    this.handleFileUpload(e.dataTransfer.files);
                });
                
                fileInput.addEventListener('change', (e) => {
                    this.handleFileUpload(e.target.files);
                });
                
                // Upload button
                document.getElementById('uploadBtn').addEventListener('click', () => {
                    fileInput.click();
                });
                
                // New folder button
                document.getElementById('newFolderBtn').addEventListener('click', () => {
                    this.showModal('newFolderModal');
                });
                
                // Search
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.handleSearch(e.target.value);
                });
                
                // Context menu
                document.addEventListener('contextmenu', (e) => {
                    if (e.target.closest('.file-card') || e.target.closest('.list-item')) {
                        e.preventDefault();
                        this.showContextMenu(e);
                    }
                });
                
                document.addEventListener('click', () => {
                    this.hideContextMenu();
                });
                
                // Context menu actions
                document.querySelectorAll('.context-menu-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        this.handleContextAction(e.target.closest('.context-menu-item').dataset.action);
                    });
                });
                
                // Close modals on outside click
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            this.closeModal(modal.id);
                        }
                    });
                });
            }
            
            setActiveNavItem(activeLink) {
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                activeLink.classList.add('active');
            }
            
            handleNavigation(link) {
                const filter = link.dataset.filter || link.dataset.folder;
                if (filter) {
                    this.currentFilter = filter;
                    this.renderFiles();
                    this.updateBreadcrumb(link.textContent.trim());
                }
            }
            
            updateBreadcrumb(title) {
                const breadcrumb = document.getElementById('breadcrumb');
                breadcrumb.innerHTML = `
                    <a href="#" class="breadcrumb-item">Inicio</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-item active">${title}</span>
                `;
            }
            
            switchView(view) {
                this.currentView = view;
                
                // Update view buttons
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-view="${view}"]`).classList.add('active');
                
                // Show/hide appropriate view
                if (view === 'grid') {
                    document.getElementById('filesGrid').style.display = 'grid';
                    document.getElementById('filesList').style.display = 'none';
                } else {
                    document.getElementById('filesGrid').style.display = 'none';
                    document.getElementById('filesList').style.display = 'block';
                }
                
                this.renderFiles();
            }
            
            setActiveFilter(activeChip) {
                document.querySelectorAll('.filter-chip').forEach(chip => {
                    chip.classList.remove('active');
                });
                activeChip.classList.add('active');
                
                this.currentFilter = activeChip.dataset.type;
                this.renderFiles();
            }
            
            getFilteredFiles() {
                let filteredFiles = [...this.files];
                
                // Apply type filter
                if (this.currentFilter !== 'all') {
                    switch (this.currentFilter) {
                        case 'recent':
                            filteredFiles = filteredFiles.sort((a, b) => new Date(b.modified) - new Date(a.modified)).slice(0, 10);
                            break;
                        case 'starred':
                            filteredFiles = filteredFiles.filter(file => file.starred);
                            break;
                        case 'shared':
                            filteredFiles = filteredFiles.filter(file => file.shared);
                            break;
                        case 'documents':
                            filteredFiles = filteredFiles.filter(file => ['pdf', 'doc', 'xls', 'ppt'].includes(file.type));
                            break;
                        case 'images':
                            filteredFiles = filteredFiles.filter(file => file.type === 'img');
                            break;
                        case 'videos':
                            filteredFiles = filteredFiles.filter(file => file.type === 'video');
                            break;
                        default:
                            filteredFiles = filteredFiles.filter(file => file.type === this.currentFilter);
                    }
                }
                
                return filteredFiles;
            }
            
            renderFiles() {
                const filteredFiles = this.getFilteredFiles();
                
                if (this.currentView === 'grid') {
                    this.renderGridView(filteredFiles);
                } else {
                    this.renderListView(filteredFiles);
                }
                
                this.updateSelectedInfo(filteredFiles.length);
            }
            
            renderGridView(files) {
                const grid = document.getElementById('filesGrid');
                
                if (files.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-state" style="grid-column: 1 / -1;">
                            <i class="fas fa-folder-open"></i>
                            <h3>No hay archivos</h3>
                            <p>No se encontraron archivos que coincidan con los filtros seleccionados.</p>
                            <button class="btn btn-primary" onclick="fileManager.showModal('newFolderModal')">
                                <i class="fas fa-plus"></i>
                                Crear carpeta
                            </button>
                        </div>
                    `;
                    return;
                }
                
                grid.innerHTML = files.map(file => `
                    <div class="file-card fade-in" data-id="${file.id}" onclick="fileManager.selectFile(${file.id}, event)">
                        <div class="file-thumbnail">
                            <i class="file-type-icon ${file.type} ${this.getFileIcon(file)}"></i>
                            <div class="file-actions">
                                <button class="file-action" onclick="fileManager.downloadFile(${file.id}, event)" title="Descargar">
                                    <i class="fas fa-download"></i>
                                </button>
                                <button class="file-action" onclick="fileManager.shareFileModal(${file.id}, event)" title="Compartir">
                                    <i class="fas fa-share"></i>
                                </button>
                                <button class="file-action" onclick="fileManager.toggleStar(${file.id}, event)" title="${file.starred ? 'Quitar de destacados' : 'Agregar a destacados'}">
                                    <i class="fas fa-star" style="color: ${file.starred ? '#f59e0b' : '#64748b'}"></i>
                                </button>
                            </div>
                            <input type="checkbox" class="file-checkbox" onchange="fileManager.toggleSelection(${file.id})">
                        </div>
                        <div class="file-info">
                            <div class="file-name" title="${file.name}">${file.name}</div>
                            <div class="file-meta">
                                <span>${file.size}</span>
                                <span>${this.formatDate(file.modified)}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            renderListView(files) {
                const list = document.getElementById('filesList');
                
                if (files.length === 0) {
                    list.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-folder-open"></i>
                            <h3>No hay archivos</h3>
                            <p>No se encontraron archivos que coincidan con los filtros seleccionados.</p>
                        </div>
                    `;
                    return;
                }
                
                const header = `
                    <div class="list-header">
                        <div></div>
                        <div>Nombre</div>
                        <div>Tamaño</div>
                        <div>Modificado</div>
                        <div>Tipo</div>
                        <div></div>
                    </div>
                `;
                
                const items = files.map(file => `
                    <div class="list-item fade-in" data-id="${file.id}" onclick="fileManager.selectFile(${file.id}, event)">
                        <div>
                            <input type="checkbox" class="file-checkbox" onchange="fileManager.toggleSelection(${file.id})">
                        </div>
                        <div class="list-name">
                            <i class="list-icon ${file.type} ${this.getFileIcon(file)}"></i>
                            <span class="list-name-text">${file.name}</span>
                            ${file.starred ? '<i class="fas fa-star" style="color: #f59e0b; margin-left: 8px;"></i>' : ''}
                            ${file.shared ? '<i class="fas fa-share-alt" style="color: #06b6d4; margin-left: 8px;"></i>' : ''}
                        </div>
                        <div class="list-size">${file.size}</div>
                        <div class="list-date">${this.formatDate(file.modified)}</div>
                        <div class="list-type">${this.getTypeLabel(file.type)}</div>
                        <div class="list-actions">
                            <button class="actions-btn" onclick="fileManager.showContextMenu(event, ${file.id})">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
                
                list.innerHTML = header + items;
            }
            
            getFileIcon(file) {
                if (file.isFolder) return 'fas fa-folder';
                
                const icons = {
                    'pdf': 'fas fa-file-pdf',
                    'doc': 'fas fa-file-word',
                    'xls': 'fas fa-file-excel',
                    'ppt': 'fas fa-file-powerpoint',
                    'img': 'fas fa-file-image',
                    'video': 'fas fa-file-video',
                    'audio': 'fas fa-file-audio'
                };
                
                return icons[file.type] || 'fas fa-file';
            }
            
            getTypeLabel(type) {
                const labels = {
                    'pdf': 'PDF',
                    'doc': 'Word',
                    'xls': 'Excel',
                    'ppt': 'PowerPoint',
                    'img': 'Imagen',
                    'video': 'Video',
                    'audio': 'Audio',
                    'folder': 'Carpeta'
                };
                
                return labels[type] || 'Archivo';
            }
            
            formatDate(dateString) {
                const date = new Date(dateString);
                const today = new Date();
                const diffTime = today - date;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) return 'Ayer';
                if (diffDays <= 7) return `Hace ${diffDays} días`;
                
                return date.toLocaleDateString('es-ES', { 
                    day: 'numeric', 
                    month: 'short',
                    year: date.getFullYear() !== today.getFullYear() ? 'numeric' : undefined
                });
            }
            
            selectFile(id, event) {
                if (event && (event.target.type === 'checkbox' || event.target.closest('.file-action'))) {
                    return;
                }
                
                const file = this.files.find(f => f.id === id);
                if (file && file.isFolder) {
                    this.openFolder(file);
                } else {
                    this.openFile(file);
                }
            }
            
            openFolder(folder) {
                this.showNotification(`Abriendo carpeta: ${folder.name}`, 'info');
                // Implementar navegación de carpetas
            }
            
            openFile(file) {
                this.showNotification(`Abriendo archivo: ${file.name}`, 'info');
                // Implementar preview o descarga
            }
            
            toggleSelection(id) {
                if (this.selectedFiles.has(id)) {
                    this.selectedFiles.delete(id);
                } else {
                    this.selectedFiles.add(id);
                }
                
                this.updateSelectedInfo();
            }
            
            updateSelectedInfo(totalFiles = null) {
                const selectedInfo = document.getElementById('selectedInfo');
                const selectedCount = this.selectedFiles.size;
                const total = totalFiles || this.getFilteredFiles().length;
                
                if (selectedCount > 0) {
                    selectedInfo.textContent = `${selectedCount} de ${total} seleccionados`;
                } else {
                    selectedInfo.textContent = `${total} elementos`;
                }
            }
            
            handleFileUpload(files) {
                this.showNotification(`Subiendo ${files.length} archivo(s)...`, 'info');
                
                // Simular subida de archivos
                Array.from(files).forEach((file, index) => {
                    setTimeout(() => {
                        const newFile = {
                            id: Date.now() + index,
                            name: file.name,
                            type: this.getFileTypeFromName(file.name),
                            size: this.formatFileSize(file.size),
                            modified: new Date().toISOString().split('T')[0],
                            isFolder: false,
                            starred: false,
                            shared: false
                        };
                        
                        this.files.unshift(newFile);
                        this.renderFiles();
                        this.showNotification(`${file.name} subido exitosamente`, 'success');
                    }, (index + 1) * 500);
                });
            }
            
            getFileTypeFromName(filename) {
                const ext = filename.split('.').pop().toLowerCase();
                const typeMap = {
                    'pdf': 'pdf',
                    'doc': 'doc', 'docx': 'doc',
                    'xls': 'xls', 'xlsx': 'xls',
                    'ppt': 'ppt', 'pptx': 'ppt',
                    'jpg': 'img', 'jpeg': 'img', 'png': 'img', 'gif': 'img',
                    'mp4': 'video', 'avi': 'video', 'mov': 'video',
                    'mp3': 'audio', 'wav': 'audio'
                };
                
                return typeMap[ext] || 'file';
            }
            
            formatFileSize(bytes) {
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                if (bytes === 0) return '0 Bytes';
                const i = Math.floor(Math.log(bytes) / Math.log(1024));
                return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
            }
            
            downloadFile(id, event) {
                if (event) event.stopPropagation();
                const file = this.files.find(f => f.id === id);
                this.showNotification(`Descargando ${file.name}...`, 'success');
            }
            
            shareFileModal(id, event) {
                if (event) event.stopPropagation();
                this.currentShareFile = id;
                this.showModal('shareModal');
            }
            
            toggleStar(id, event) {
                if (event) event.stopPropagation();
                const file = this.files.find(f => f.id === id);
                file.starred = !file.starred;
                this.renderFiles();
                this.showNotification(`${file.starred ? 'Agregado a' : 'Removido de'} destacados`, 'info');
            }
            
            handleSearch(query) {
                if (query.length < 2) {
                    this.renderFiles();
                    return;
                }
                
                const filteredFiles = this.files.filter(file => 
                    file.name.toLowerCase().includes(query.toLowerCase())
                );
                
                if (this.currentView === 'grid') {
                    this.renderGridView(filteredFiles);
                } else {
                    this.renderListView(filteredFiles);
                }
                
                this.updateSelectedInfo(filteredFiles.length);
            }
            
            showContextMenu(event, fileId = null) {
                if (event) event.preventDefault();
                
                const contextMenu = document.getElementById('contextMenu');
                contextMenu.style.display = 'block';
                contextMenu.style.left = event.pageX + 'px';
                contextMenu.style.top = event.pageY + 'px';
                
                this.contextMenuFileId = fileId;
            }
            
            hideContextMenu() {
                document.getElementById('contextMenu').style.display = 'none';
            }
            
            handleContextAction(action) {
                this.hideContextMenu();
                
                const file = this.files.find(f => f.id === this.contextMenuFileId);
                if (!file) return;
                
                switch (action) {
                    case 'open':
                        this.openFile(file);
                        break;
                    case 'download':
                        this.downloadFile(file.id);
                        break;
                    case 'share':
                        this.shareFileModal(file.id);
                        break;
                    case 'rename':
                        this.renameFile(file.id);
                        break;
                    case 'star':
                        this.toggleStar(file.id);
                        break;
                    case 'delete':
                        this.deleteFile(file.id);
                        break;
                }
            }
            
            renameFile(id) {
                const file = this.files.find(f => f.id === id);
                const newName = prompt('Nuevo nombre:', file.name);
                if (newName && newName !== file.name) {
                    file.name = newName;
                    this.renderFiles();
                    this.showNotification('Archivo renombrado exitosamente', 'success');
                }
            }
            
            deleteFile(id) {
                const file = this.files.find(f => f.id === id);
                if (confirm(`¿Estás seguro de que quieres eliminar "${file.name}"?`)) {
                    this.files = this.files.filter(f => f.id !== id);
                    this.renderFiles();
                    this.showNotification('Archivo eliminado', 'success');
                }
            }
            
            showModal(modalId) {
                document.getElementById(modalId).style.display = 'flex';
            }
            
            closeModal(modalId) {
                document.getElementById(modalId).style.display = 'none';
            }
            
            createFolder() {
                const folderName = document.getElementById('folderName').value.trim();
                if (!folderName) return;
                
                const newFolder = {
                    id: Date.now(),
                    name: folderName,
                    type: 'folder',
                    size: '0 elementos',
                    modified: new Date().toISOString().split('T')[0],
                    isFolder: true,
                    starred: false,
                    shared: false
                };
                
                this.files.unshift(newFolder);
                this.renderFiles();
                this.closeModal('newFolderModal');
                this.showNotification(`Carpeta "${folderName}" creada exitosamente`, 'success');
                
                document.getElementById('folderName').value = '';
            }
            
            shareFile() {
                const email = document.getElementById('shareEmail').value.trim();
                const message = document.getElementById('shareMessage').value.trim();
                
                if (!email) return;
                
                this.showNotification(`Archivo compartido con ${email}`, 'success');
                this.closeModal('shareModal');
                
                document.getElementById('shareEmail').value = '';
                document.getElementById('shareMessage').value = '';
            }
            
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = 'notification-toast';
                
                const colors = {
                    'success': '#10b981',
                    'error': '#ef4444',
                    'warning': '#f59e0b',
                    'info': '#3b82f6'
                };
                
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: white;
                    color: ${colors[type]};
                    padding: 15px 20px;
                    border-radius: 12px;
                    box-shadow: var(--shadow-lg);
                    border-left: 4px solid ${colors[type]};
                    z-index: 10000;
                    animation: slideInRight 0.3s ease;
                    max-width: 300px;
                `;
                
                notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-${this.getNotificationIcon(type)}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOutRight 0.3s ease';
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            getNotificationIcon(type) {
                const icons = {
                    'success': 'check-circle',
                    'error': 'exclamation-circle',
                    'warning': 'exclamation-triangle',
                    'info': 'info-circle'
                };
                return icons[type] || 'info-circle';
            }
        }
        
        // Funciones globales para eventos
        function closeModal(modalId) {
            fileManager.closeModal(modalId);
        }
        
        function createFolder() {
            fileManager.createFolder();
        }
        
        function shareFile() {
            fileManager.shareFile();
        }
        
        // Inicializar aplicación
        const fileManager = new FileManager();
        
        // Exponer instancia global
        window.fileManager = fileManager;
        
        // CSS adicional para animaciones
        const additionalStyles = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>